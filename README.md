# whome-rpi-controller
系统有2种控制方式：网页直接控制（调试控制），自动池水过滤（包含灌溉）。

[Nodejs定时任务（node-schedule)](https://www.jianshu.com/p/8d303ff8fdeb)

### GPIO使用
rpio使用序号，比如16表示GPIO23。

PIN27: 水位检测
PIN28: 土壤检测

PIN15: 水泵开关
PIN16: 滴灌阀门

## 网页直接控制
1. 输出控制：水泵开关，滴灌开关。
2. 状态查询：水位检测，土壤检测。
如果水泵打开的，则频繁检测（1s或0.5s），如果满，则关闭

1. 记录输出状态

## 自动池水过滤
比如每天进行3次：10:00, 13:00, 17:00。
每次持续30分钟。


持续保持抽水：每隔1分钟启动抽水，水满后关闭。

每个时间段开始前清除滴灌湿度符合标志。
每隔3分钟启动滴灌，持续1分钟。
检测到湿度符合后，设置标志。后续不再开启滴灌。




