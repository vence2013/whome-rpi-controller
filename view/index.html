<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <title>rpi controller</title>
        <script src="/node_modules/jquery/dist/jquery.min.js"></script>
        <link rel="stylesheet" href="/node_modules/bootstrap/dist/css/bootstrap.css" />

        <link rel="stylesheet" href="view/css/index.css" />
        <script src="view/js/index.js"></script>
    </head>

    <body>
        <div class="container-fluid">
            <div class="card mt-3">
                <div class="card-body">
                    <div class="row direct_ctl">
                        <div class="col px-1">
                            <button type="button" class="btn btn-block btn-secondary" id="pump" onclick="direct_ctl('pump');">水泵开关</button>
                        </div>
                        <div class="col pl-0 pr-1">
                            <button type="button" class="btn btn-block btn-secondary" id="irrigate" onclick="direct_ctl('irrigate');">滴灌开关</button>
                        </div>                                        
                    </div>
                    <div class="row input_status mt-2">
                        <div class="col px-1">
                            <div class="alert alert-warning mb-0" role="alert" id="waterfull">&nbsp;</div>
                        </div>
                        <div class="col pl-0 pr-1">
                            <div class="alert alert-warning mb-0" role="alert" id="soilwet">&nbsp;</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card mt-3">
                <div class="card-body">
                    <h5 class="card-title">自动过滤控制</h5>
                    <div class="row">
                        <button type="button" class="btn btn-secondary btn-lg btn-block" id="autofilter" onclick="autofilter();">启动自动过滤</button>
                    </div>
                    <div class="row mt-2">
                        <div class="col-4 tip">当前时间</div>
                        <div class="col time" id="current_time">12:23:09</div>
                    </div>
                    <div class="row mt-2">
                        <div class="col-4 tip">开始时间</div>
                        <div class="col time" id="start_time">11:50:03</div>
                    </div>
                    <div class="row mt-2">
                        <div class="col-4 tip">剩余时间</div>
                        <div class="col time" id="left_time">11:24</div>
                    </div>                                        
                </div>
            </div>
            
        </div>
    </body>
</html>
<script>
$(document).ready(() => {
    window.setInterval(query_status, 2000);
});
</script>